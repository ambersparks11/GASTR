namespace SpriteKind {
    export const coin = SpriteKind.create()
}
scene.onHitWall(SpriteKind.Player, function (sprite, location) {
    jumpsleft = of_jumps
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (jumpsleft > 0) {
        gost.vy = 0 - Math.sqrt(2 * (gravity * jump_hight))
        jumpsleft += -1
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile5, function (sprite, location) {
    game.over(false, effects.dissolve)
})
let jumpsleft = 0
let jump_hight = 0
let of_jumps = 0
let gravity = 0
let gost: Sprite = null
gost = sprites.create(img`
    b b . . . b b . 
    b b a a a b b . 
    a a a a a a a . 
    d 1 f d 1 f d . 
    d d d d d d d . 
    d d d 3 d d d . 
    d d d . d d d . 
    . d d . . d d . 
    `, SpriteKind.Player)
let coin = sprites.create(img`
    . . 5 5 5 5 . . 
    . 5 5 5 5 5 5 . 
    5 5 f f 5 5 5 5 
    5 5 5 f 5 5 5 5 
    5 5 5 f 5 5 5 5 
    5 5 f f f 5 5 5 
    . 5 5 5 5 5 5 . 
    . . 5 5 5 5 . . 
    `, SpriteKind.coin)
info.setScore(0)
gravity = 600
gost.ay = gravity
gost.x = 8
tiles.placeOnTile(gost, tiles.getTileLocation(0, 208))
of_jumps = 3
scene.cameraFollowSprite(gost)
scene.setBackgroundColor(9)
jump_hight = 24
tiles.setSmallTilemap(tiles.createTilemap(hex`3200140000000000000000000000000000000000000000000000000000000000000000000000000000000005050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000505050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000050505000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005050500000000000000000000000000000000000000000000000000000000000000000000000000000000030303000000000505050000000000000000000000000000000000000000000000000000000000000000000000000000000003030300000000050505000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000005050500000000000000000000000000000000000000000000000303030000000000000000000000030102000000000000000505050000000000000000000000000000000000000000030001010101000000000000000000030300000000000000000000050505000000000000000000000000000000030303000001000000000000000000000003010101010100000303000000000005050500000000000000000000000000000101010101000000000000000000000000000102000000000000000000000000000505050000000000000000000000000003000000000000000000000000000000000301020000000000000000000000000000050505000006060606060000000000010100000000000000000000000000000000010200000003030300000303030000000005050500000606060600000000000000000000000003030303030303030303030102000000000000000000030303000000000505050006060606060600010101010101010101010101010101010101010101010101010101010101010101010101010101010101000006060606000002020202020202020202020202020202020202020202020202020202020202020202020202020202020204040606060606040202020202020202020202020202020202020202020202020202020202020202020202020202020202020404040404040404020202020202020202020202020202020202020202020202020202020202020202020202020202020202040404040404040402020202020202020202020202020202020202020202020202020202020202020202020202020202040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404`, img`
    ..................................................
    ..................................................
    ..................................................
    ..................................................
    ..................................................
    ..................................................
    ...............................2..................
    ..............................22..................
    ..............2222................................
    ............2............22222....................
    ......22222.............22........................
    .......................22.........................
    ....22................22..........................
    .....................22...........................
    222222222222222222222222222222222222222222........
    222222222222222222222222222222222222222222........
    222222222222222222222222222222222222222222........
    222222222222222222222222222222222222222222........
    ..................................................
    ..................................................
    `, [myTiles.transparency8,myTiles.tile2,myTiles.tile4,myTiles.tile1,myTiles.tile5,myTiles.tile6,myTiles.tile7], TileScale.Eight))
jumpsleft = of_jumps
controller.moveSprite(gost)
for (let index = 0; index < 20; index++) {
    coin = sprites.create(img`
        . . 5 5 5 5 . . 
        . 5 5 5 5 5 5 . 
        5 5 f f 5 5 5 5 
        5 5 5 f 5 5 5 5 
        5 5 5 f 5 5 5 5 
        5 5 f f f 5 5 5 
        . 5 5 5 5 5 5 . 
        . . 5 5 5 5 . . 
        `, SpriteKind.coin)
    tiles.placeOnRandomTile(coin, myTiles.tile1)
}
